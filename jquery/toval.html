<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript">

        // 对页面url传过来的值进行处理
    ;(function ($) {
        $.fn.urlByval=function () {
            hrefString=window.location.toString();
            hrefReg=/\?/g;
            var hrefvalObj={};
            if(hrefReg.test(hrefString)){
               hrefvalObj.haveVal=true;
            }
            else{
               hrefvalObj.haveVal=false;
            }
            var hrefUrl=document.location.toString().split("?");
            var hrefUrlArr=hrefUrl[hrefUrl.length-1].split("&");
             for(i=0;i<hrefUrlArr.length;i++){
                var key= hrefUrlArr[i].split("=")[0];
                var val= hrefUrlArr[i].split("=")[1];
                hrefvalObj[key]=val;

                };
            return hrefvalObj;
        }
        
    })($);   
    // 可以获取到传值过来的对象
    console.log($(window).urlByval());
    var getData=$(window).urlByval();
    console.log(getData);
    $(function () {
       $.ajax({
        url:"js/data1.json",
        success:function (data) {
            if(data){
            var data=JSON.parse(data);
            if(getData.haveVal){
            console.log(data[getData.type].productList[getData.listnum]);
            }
            else{
            // 如果没有值就用数据第一个的
            console.log(data.gold.productList[0]);
            }
            }
        }
       }) 
    });

    </script>
</body>
</html>