<html>
	<head>
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/mobile.css"/>
		<script src="js/snap.svg-min.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<style type="text/css">
		#svg{
		width: 175px;
		height: 175px;
		cursor: pointer;
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%,-50%);
        -webkit-transform: translate(-50%,-50%);
        -moz-transform: translate(-50%,-50%);
	}
	</style>
	<body>
		
		<svg id="svg" viewBox="0 0 175 175"></svg>
		
		<script type="text/javascript">
			var svg=Snap("#svg");
//路径0，1，2分别是原始状态，多边形，点击后状态
var pathes=[
    "M37.5,37.5S87.5,37.5,87.5,37.5S137.5,37.5,137.5,37.5S137.5,87.5,137.5,87.5 S137.5,137.5,137.5,137.5S87.5,137.5,87.5,137.5S37.5,137.5,37.5,137.5S37.5,87.5,37.5,87.5S37.5,37.5,37.5,37.5z",
    "M 37.5,37.5 S47.5,12.5,87.5,12.5 S127.5,25,137.5,37.5 S162.5,47.5,162.5,87.5 S150,127.5,137.5,137.5 S127.5,162.5,87.5,162.5 S47.5,150,37.5,137.5 S12.5,127.5,12.5,87.5 S25,47.5,37.5,37.5z",
    "M12.5,12.5S87.5,12.5,87.5,12.5S162.5,12.5,162.5,12.5S162.5,87.5,162.5,87.5S162.5,162.5,162.5,162.5S87.5,162.5,87.5,162.5S12.5,162.5,12.5,162.5S12.5,127.5,12.5,127.5S12.5,12.5,12.5,12.5z"
];

var path=svg.path(pathes[0]);
path.attr({
    fill:"#2E70FF"
});
function animateIn(callback){
    path.animate
    (
{
                   d:pathes[1]},300,mina.easeout,function()
   { path.animate({d:pathes[0],fill:"#f00"},400,mina.linear,callback)}
    );
};

function animateOut(callback){
    path.animate
    (
{
                    d:pathes[1]},300,mina.easeOut,function()
   { path.animate({ d:pathes[2]},400,mina.easeout,callback)}
    );
};
var animating=false,
    out=true;
svg.node.addEventListener('click',function(){
    if(animating) return;
    animating=true;
    if(out){ animateOut(done);}
    else{     animateIn(done); }
    ;
    function done(){
        animating=false;
        out=!out;
    }
});
		</script>
	</body>
</html>